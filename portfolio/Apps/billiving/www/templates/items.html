<ion-view hide-back-button="true">
  <ion-nav-title>
    Catalog
  </ion-nav-title>
  <ion-nav-buttons side="left">
    <button class="button button-icon button-clear ion-navicon" menu-toggle="left"></button>
  </ion-nav-buttons>
  <ion-nav-buttons side="right">
    <button class="button button-icon button-clear ion-ios-plus-empty" ng-click="add()"></button>
    <button class="button button-icon button-clear ion-ios7-refresh-empty" ng-click="refresh()"></button>
  </ion-nav-buttons>
  <div class="bar bar-subheader bar-stable item-input-inset clients-search-bar">
    <form class="item-input-wrapper" id="productsSearchForm">
      <i class="icon ion-ios7-search placeholder-icon"></i>
      <input type="search" placeholder="Search" ng-model="itemOptions.FreeText" dng-change="divideItems()" id="txt_clients_search">
    </form>
    <button class="button button-clear" ng-show="itemOptions.FreeText!==''" ng-click="clearSearch()"><i class="icon ion-ios7-close-outline"></i></button>
  </div>
  <ion-content class="has-subheader page page-clients">
    <ion-list>
      <div id="{{divider}}" class="item item-divider" ng-repeat-start="divider in dividers track by $index" ng-if="dividedItems[divider].length > 0">
        <strong>{{divider}}</strong>
      </div>
            
      <ion-item class="ion-item-custom" ng-repeat="i in dividedItems[divider] track by $index" ng-click="edit(i.Id)">
        <div class="invoice-left-container">
          <p class="item-main-title">{{i.ShortDescription}}</p>
          <p class="item-sub-title">{{i.ItemId}}</p>
        </div>
        <div class="invoice-right-container">
          <p class="item-main-title">{{currency}} {{i.Price | number:2}}</p>
        </div>
        <ion-option-button class="button-balanced ion-edit ion-option-button custom-font" ng-click="edit(i.Id)"></ion-option-button>
        <ion-option-button class="button-energized ion-close ion-option-button custom-font" ng-click="delete(i.Id)"></ion-option-button>
      </ion-item>
      <div ng-repeat-end></div>
    </ion-list>
    
    <ion-infinite-scroll on-infinite="loadMoreItems()" distance="1%" ng-if="isMoreItems"></ion-infinite-scroll>
  </ion-content>
</ion-view>
