<ion-view title="GAME FORMATION" ng-controller="GameFormationCtrl" cache-view="false">
  <ion-content class="page page-listmain page-game-formation has-subheader" scroll="false" style = "bottom: 50px;display: table-cell !important;">
    <div class="organizate-divider">
      <div class="radiobox-container" ng-click="typeClick('six')">
        <input type="radio" name="radiog_lite" id="radiosix" class="css-checkbox" ng-model="type" value = "six"/><label for="radiosix" class="css-label radGroup1">6 a side</label>
      </div>
      <div class="radiobox-container" ng-click="typeClick('seven')">
        <input type="radio" name="radiog_lite" id="radioseven" class="css-checkbox" ng-model="type" value = "seven"/><label for="radioseven" class="css-label radGroup1">7 a side</label>
      </div>
      <div class="radiobox-container" ng-click="typeClick('eleven')">
        <input type="radio" name="radiog_lite" id="radioeleven" class="css-checkbox" ng-model="type" value = "eleven"/><label for="radioeleven" class="css-label radGroup1">11 a side</label>
      </div>
    </div>
    <div class="formation-select">
      <select ng-options="formation.type as formation.type for formation in formations" ng-model="teamformation" ng-change="formationClick(teamformation)"></select>
    </div>
    <div class="formation-main">
      <div class="gameformation-container-first">
        <div>
          <div class="first-title">Players</div>
          <div direction="y" class="content-stable">            
            <a class="button button-clear" style="min-height: 70px;" 
               ng-repeat="user in members track by user.id" ng-disabled="tempUserFlagArr[user.id]" ng-click="userSelect(user);">
              <div class="contact-item-container">
                <div style="background:url('{{(user.photourl)?user.photourl:'img/ylblankuser.png'}}');" class ="image-contacts-adapter" ng-class="{'gameformation-image-adapter-userselect':userselected[user.rostername]}">
                  <div class="badge badge-assertive org-player-badge" ng-show="user.shirtnumber">{{user.shirtnumber}}</div>
                </div>
                <label class="player-name-label">{{user.rostername}}</label>
              </div>
            </a>
          </div>              
        </div>
      </div>
      <div class="gameformation-container-second">
        <div class="football-field"></div>
        <div class="team-player-info" ng-repeat="pos in positions track by $index" style="bottom: {{pos.position[0]}}%; left: {{pos.position[1]}}%;" ng-click="positionSelect($index);">
          <div class="formation-item-container">
            <div class ="gameformation-field-adapter" 
                 ng-class="{'gameformation-field-userselect':(selectedUser&&!pos.user.rostername)}">{{(pos.user.shirtnumber)?pos.user.shirtnumber:'';}}</div>
            <label class="player-name-label-field">{{pos.user.rostername}}</label>
          </div>
        </div>
      </div>
      <div class="gameformation-container-third" style="margin-top: 0px;">
        <div>
          <div style="margin: 10px 0px; color: #aaa;height: 10px;">Sub</div>
          <div direction="y" class="content-stable" style="overflow-x: hidden;height: 320px;">            
            <a class="button button-clear" ng-repeat="user in members" ng-show="!tempUserFlagArr[user.id]" ng-click="userModal(user.roster_id)">
              <div class="contact-item-container">
                <div style="background:url('{{(user.photourl)?user.photourl:'img/ylblankuser.png'}}')" class ="gameformation-image-adapter"></div>
              </div>
            </a>
          </div>  
        </div>
      </div>
    </div>
  </ion-content>
  <ion-footer-bar class="organizate-footer">
    <div class="footer-container">
      <div class="container-footer">        
        <div class="button button-clear footer-green-button" ng-click="savePosition();">Send formation to team members</div>         
      </div>
    </div>
  </ion-footer-bar>
</ion-view>
